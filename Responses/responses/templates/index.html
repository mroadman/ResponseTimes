{% extends 'base.html' %}

{% block title %}Response Times{% endblock %}

{% block content %}
  
<p>All Columbia-area Responses for 2012</p>
 <style type="text/css">
  body {
  margin: 0;
  padding: 0;
}
div.header {
	float: left;
	position: fixed;
	z-index: 1000;
	margin-top: 20px;
	margin-left:70px;
}
div.sidebar {
	float: left;
	z-index: 1000;
	position:fixed;
	margin-top: 400px;
	margin-left:70px;
	background-color: #FFC;
	width:380px;
	height:300px;
	padding-left:10px;
	padding-right:10px;
	opacity:0.85;
	font-size: 14px;
}

div.transbox
  { bgcolor="#FDFDFC";
	padding-right: 50px;
	padding-left: 50px;
	border: 30px;
	font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
	font-size: 12px;
	opacity:0.85;
	z-index: 1000;
	
  }
div.transboxh
  {
	font-weight: bold;
	color: #000000;
	font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
	font-size: 14px;
  }
div.icontable
  {
	
	font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
	font-size: 12px;
  }
  </style>
  
  
  
<div class = "transbox" bgcolor="#FDFDFC"><br>   Rescuers are expected to arrive to nearly all 911 calls within six minutes, a national standard to reponse to emergence calling. We analyzed near ten thousand runs by the Fire Department over the 2012 and plotted the response time for each 911 calls. Use this map to compare the emergence performance across City of Columbia.

<table bgcolor="#FDFDFC" width="350" border="0">
   
    <td colspan="0" nowrap="nowrap"><p>Different background colour represent different zones responsible by different stations.
</td>
    <td align="center" width="32" nowrap="nowrap"><img width="30" height= "30" src="http://maps.google.com/mapfiles/kml/paddle/1_blue.png" alt="" /><br /></td><br />
    <td width="160" nowrap="nowrap"><p>The location of the Fire station#</p></td>
    <td  align="center" width="32" nowrap="nowrap"><img src="http://maps.google.com/mapfiles/kml/shapes/placemark_circle_highlight.png"  /></td>
    <td width="176" nowrap="nowrap"><p>Fire Administration Building</a><br /></td>
    <td align="center" width="32" nowrap="nowrap"><img src="http://maps.google.com/mapfiles/kml/shapes/placemark_circle.png" alt="" /></td>
    <td width="160" nowrap="nowrap">Fire Training Academy</a> </td>
</table> 
<table bgcolor="#FDFDFC">
	<tr>
		<td> Response Time (mins)
		<td>  <img class="googft-dot-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAiElEQVR42mNgQIAoIF4NxGegdCCSHAMzEC81izL7n746/X/VmSowbRho+B8oPhOmKM02zfb/TCzQItYCpDAWpOhA8YFirIoK9xaCFO0FKXrY/rAdq6Lm280gRbeJNikWZDc2RUYhRiBFITDHzwf5LmtjFth3GesyYL6bxoAGQOG0ERpO65DDCQDX7ovT++K9KQAAAABJRU5ErkJggg=="/>
      <span class="googft-legend-range">30s - 6 mins</span></td>
      <td>
		<img class="googft-dot-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAi0lEQVR42mNgQIAoIF4NxGegdCCSHAMzEC+NijL7v3p1+v8zZ6rAdGCg4X+g+EyYorS0NNv////PxMCxsRYghbEgRQcOHCjGqmjv3kKQor0gRQ8fPmzHquj27WaQottEmxQLshubopAQI5CiEJjj54N8t3FjFth369ZlwHw3jQENgMJpIzSc1iGHEwB8p5qDBbsHtAAAAABJRU5ErkJggg=="/>
      <span class="googft-legend-range">6 - 9 mins</span>
      </td>
      <td>
<img class="googft-dot-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAiklEQVR42mNgQIAoIF4NxGegdCCSHAMzEC+NUlH5v9rF5f+ZoCAwHaig8B8oPhOmKC1NU/P//7Q0DByrqgpSGAtSdOCAry9WRXt9fECK9oIUPXwYFYVV0e2ICJCi20SbFAuyG5uiECUlkKIQmOPng3y30d0d7Lt1bm4w301jQAOgcNoIDad1yOEEAFm9fSv/VqtJAAAAAElFTkSuQmCC"/>
      <span class="googft-legend-range">9 - 15 mins</span>
      </td>
	</tr>
</table></div>



</div>
<style type="text/css">
html, body, #googft-mapCanvas {
  height: 90%;
  margin: 0;
  padding: 0;
  width: 90%;
}
#googft-legend{background-color:#fff;border:1px solid #000;font-family:Arial, sans-serif;font-size:12px;margin:5px;padding:10px 10px 8px; 
	z-index: 1000;
	position:static;
	margin-top: 360px;
	margin-left:30px;}

#googft-legend p{font-weight:bold;margin-top:0;}#googft-legend div{margin-bottom:5px;}.googft-legend-swatch{border:1px solid;float:left;height:12px;margin-right:8px;width:20px;}.googft-legend-range{margin-left:0;}.googft-dot-icon{margin-right:8px;}.googft-paddle-icon{height:24px;left:-8px;margin-right:-8px;position:relative;vertical-align:middle;width:24px;}.googft-legend-source{margin-bottom:0;margin-top:8px;}.googft-legend-source a{color:#666;font-size:11px;}
</style>

<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

<script type="text/javascript">


// tutorial: https://developers.google.com/fusiontables/docs/samples/multiple_layers_per_map


  function initialize() {
    map = new google.maps.Map(document.getElementById('googft-mapCanvas'), {
      center: new google.maps.LatLng(38.95989212283794, -92.33997105859376),
      zoom: 12,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
	
	 var infoWindow = new google.maps.InfoWindow();

//colour_code_Fire

    var firstLayer = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
       select: "col7",
        from: "1nD2pqwmlCxmihtsZQghT-2xls0vhaDhSP1lFRLI",
        where: ""
      },
      options: {
        styleId: 2,
        templateId: 2
      } 	  
	});
	
	//View of 2012
	
	 var thirdLayer = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
	     select: "col9",
        from: "1vCwCDEQEiQBHcCQADJnbNfLmsTAaUBzdhMhW6Wo",
        where: ""
      },
      options: {
        styleId: 2,
        templateId: 2
      }
    });
	

	

//Stationaddress

    var secondLayer = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
       select: "col2",
        from: "11BnNlH_W95ATyR-jJFvf1Esboi2d_u85PmXLCJI",
        where: ""
      },
      options: {
        styleId: 2,
        templateId: 2
      }
    });

	
	function windowControl(e, infoWindow, map) {
        infoWindow.setOptions({
          content: e.infoWindowHtml,
          position: e.latLng,
          pixelOffset: e.pixelOffset
        });
        infoWindow.open(map);
      }


	
	
  }
  


  google.maps.event.addDomListener(window, 'load', initialize);
  

</script>






</head>

<body bgcolor="#FDFDFC">
<div id="googft-mapCanvas"></div>
 
 
</body>
<div>
	<div style="margin-right:100px", style="margin-left:100px">
	<table id = 'example' width=100% style='table-layout:auto'>
	{% for c in responses %}

		<tr>
			<td>{{ c.inci_no }} </td>
			<td>{{ c.dispatch }}</td>
			<td>{{ c.arrival }}</td>
			<td>{{ c.response_time }}</td>
			<td>{{ c.address }}</td>
			<td>{{ c.descript }}</td>
			<td>{{ c.station }}</td>

		</tr>
	</div>
</div>
	
	{% endfor %}
	</ul>


{% endblock %}
